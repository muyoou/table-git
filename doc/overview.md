# Table Git 概览

`table-git` 是一个面向结构化表格数据的版本控制工具包，借鉴 Git 的工作流，将单元格内容和表结构的变化以提交的形式管理。它适用于多人协作、数据审计、结构演进等需要精细追踪修改的场景。

## 核心亮点

- **单元格级历史记录**：为每一个单元格保留独立的变更历史。
- **结构化版本控制**：列、行、工作表的增删改、排序等操作都会被纳入提交。
- **Git 风格操作**：支持分支、提交、合并、差异对比、撤销等常用流程。
- **冲突解决策略**：内置差异计算与冲突解析器，支持批量或逐条解决冲突。
- **格式化输出**：提供标准化的数据适配器与函数式格式化体系，可输出 CSV、JSON、HTML 等格式。
- **TypeScript 优先**：完整的类型定义，开箱即用的声明文件，便于在现代工具链中集成。

## 架构速览

```
src/
├─ core/             # 版本控制核心对象与引擎
├─ formatters/       # 数据适配与格式化器
├─ types/            # 公共类型定义
├─ utils/            # 工具方法（哈希、克隆、工厂函数）
└─ index.ts          # 对外统一导出入口
```

| 模块             | 说明                                                                 |
| ---------------- | -------------------------------------------------------------------- |
| `TableGit`       | 负责暂存区、提交历史、分支与 HEAD 状态管理。                         |
| `TableStructure` | 管理列/行元数据与结构版本。                                          |
| `DiffMergeEngine`| 计算差异并执行合并，产生冲突清单。                                    |
| `ConflictResolver`| 提供自动与手动的冲突解决策略。                                       |
| `TableDataAdapter`| 将仓库数据转换为通用结构，供格式化器消费。                           |
| 工厂函数          | 快速创建列、行、单元格、示例仓库等常用对象。                        |

## 典型用例

1. **协作编辑**：为多人编辑的运营或财务表格提供精细的提交历史与回溯能力。
2. **数据审计**：提供审计轨迹，记录每次变更的作者、时间与内容。
3. **结构演进**：在不同分支探索列/行结构的调整方案并比较结果。
4. **假设分析**：使用分支开展方案对比，最终合并到主线。
5. **数据导出/展示**：借助格式化器快速生成面向前端、报表或 API 的数据。

## 下一步

- 想快速上手：阅读 [`getting-started.md`](./getting-started.md)。
- 想了解 API：查看 [`api-reference.md`](./api-reference.md)。
- 想格式化输出：深入 [`formatters.md`](./formatters.md)。
- 想掌握高级操作：移步 [`advanced-topics.md`](./advanced-topics.md)。
